<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiAppDisertatieVacantaAI.Pages.SugestiiPage"
             Title="Sugestii"
             BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource DarkGray}}">
    <Grid RowDefinitions="Auto,*">
        <!-- Header -->
        <VerticalStackLayout Padding="30,20,30,10" Spacing="6">
            <Label Text="Sugestiile Tale" FontSize="28" FontAttributes="Bold" TextColor="{AppThemeBinding Light={StaticResource DarkGray}, Dark={StaticResource LightGray}}" HorizontalOptions="Center" />
            <Label Text="Planuri de vacanta personalizate" FontSize="16" TextColor="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}" Opacity="0.8" HorizontalOptions="Center" />
        </VerticalStackLayout>

        <Grid Grid.Row="1">
            <CollectionView x:Name="SugestiiCollection" ItemsSource="{Binding}" SelectionMode="None">
                <CollectionView.EmptyView>
                    <VerticalStackLayout Padding="40" Spacing="16" HorizontalOptions="Center" VerticalOptions="Center">
                        <Label Text="Nu exista sugestii inca." TextColor="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}" FontSize="18" HorizontalOptions="Center" />
                        <Label Text="Cere aplicatiei sa genereze o sugestie sau adauga una manual." TextColor="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}" FontSize="14" Opacity="0.7" HorizontalOptions="Center" />
                    </VerticalStackLayout>
                </CollectionView.EmptyView>
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border BackgroundColor="{AppThemeBinding Light={StaticResource LightGray}, Dark={StaticResource MediumGray}}" Stroke="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}" StrokeThickness="0.5" Padding="18,14" Margin="16,8">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12" />
                            </Border.StrokeShape>
                            <VerticalStackLayout Spacing="6">
                                <Label Text="{Binding Titlu}" FontSize="18" FontAttributes="Bold" TextColor="{AppThemeBinding Light={StaticResource DarkGray}, Dark={StaticResource LightGray}}" />
                                <Label Text="{Binding Destinatie.Denumire}" FontSize="14" TextColor="{StaticResource PrimaryBlue}" FontAttributes="Italic" />
                                <Grid ColumnDefinitions="*,Auto">
                                    <Label Grid.Column="0" Text="{Binding Buget_Estimat, StringFormat='Buget: {0:C}'}" FontSize="13" TextColor="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}" Opacity="0.85" />
                                    <Label Grid.Column="1" Text="{Binding Data_Inregistrare, StringFormat='{0:dd/MM/yyyy}'}" FontSize="12" TextColor="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}" Opacity="0.6" />
                                </Grid>
                                <Label Text="{Binding Descriere}" FontSize="12" TextColor="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}" LineBreakMode="TailTruncation" MaxLines="3" />
                            </VerticalStackLayout>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
            <ActivityIndicator x:Name="LoadingIndicator" IsRunning="True" IsVisible="False" HorizontalOptions="Center" VerticalOptions="Center" Color="{StaticResource PrimaryBlue}" />
        </Grid>
    </Grid>
</ContentPage>