<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiAppDisertatieVacantaAI.Pages.LoginPage"
             BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource DarkGray}}"
             Shell.NavBarIsVisible="False">

    <Grid>
        <ScrollView>
            <Grid RowDefinitions="*,Auto,*" Padding="40">

                <StackLayout Grid.Row="1" VerticalOptions="Center" Spacing="40">

                    <Label Text="Vacation Planner AI"
                           FontSize="32"
                           FontAttributes="Bold"
                           TextColor="{AppThemeBinding Light={StaticResource DarkGray}, Dark={StaticResource LightGray}}"
                           HorizontalOptions="Center" />

                    <Label Text="Welcome back!"
                           FontSize="18"
                           TextColor="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}"
                           HorizontalOptions="Center"
                           Opacity="0.8" />

                    <StackLayout Spacing="20" Margin="0,40,0,0">

                        <Frame BackgroundColor="{AppThemeBinding Light={StaticResource LightGray}, Dark={StaticResource MediumGray}}"
                               HasShadow="False"
                               CornerRadius="10"
                               Padding="0">
                            <Entry x:Name="EmailEntry"
                                   Placeholder="Email"
                                   PlaceholderColor="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}"
                                   TextColor="{AppThemeBinding Light={StaticResource DarkGray}, Dark={StaticResource LightGray}}"
                                   BackgroundColor="Transparent"
                                   Keyboard="Email"
                                   Margin="15,10" />
                        </Frame>

                        <Frame BackgroundColor="{AppThemeBinding Light={StaticResource LightGray}, Dark={StaticResource MediumGray}}"
                               HasShadow="False"
                               CornerRadius="10"
                               Padding="0">
                            <Grid>
                                <Entry x:Name="PasswordEntry"
                                       Placeholder="Password"
                                       PlaceholderColor="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}"
                                       TextColor="{AppThemeBinding Light={StaticResource DarkGray}, Dark={StaticResource LightGray}}"
                                       BackgroundColor="Transparent"
                                       IsPassword="True"
                                       Margin="15,10,50,10" />
                                <Button x:Name="ShowPasswordButton"
                                        Text="👁"
                                        BackgroundColor="Transparent"
                                        TextColor="{AppThemeBinding Light={StaticResource MediumGray}, Dark={StaticResource LightGray}}"
                                        FontSize="18"
                                        WidthRequest="40"
                                        HeightRequest="40"
                                        HorizontalOptions="End"
                                        VerticalOptions="Center"
                                        Margin="0,0,10,0"
                                        Padding="0"
                                        Clicked="OnShowPasswordClicked" />
                            </Grid>
                        </Frame>

                        <StackLayout Orientation="Horizontal" Spacing="10">
                            <CheckBox x:Name="RememberMeCheckBox"
                                      Color="{StaticResource PrimaryBlue}"
                                      IsChecked="False" />
                            <Label Text="Remember me"
                                   TextColor="{AppThemeBinding Light={StaticResource DarkGray}, Dark={StaticResource LightGray}}"
                                   VerticalOptions="Center" />
                        </StackLayout>

                        <Button x:Name="LoginButton"
                                Text="Login"
                                BackgroundColor="{StaticResource PrimaryBlue}"
                                TextColor="White"
                                CornerRadius="10"
                                HeightRequest="50"
                                FontSize="16"
                                FontAttributes="Bold"
                                Clicked="OnLoginClicked" />

                        <!-- Create Account Button -->
                        <Button x:Name="CreateAccountButton"
                                Text="Create Account"
                                BackgroundColor="{AppThemeBinding Light={StaticResource LightGray}, Dark={StaticResource MediumGray}}"
                                TextColor="{AppThemeBinding Light={StaticResource DarkGray}, Dark={StaticResource LightGray}}"
                                CornerRadius="10"
                                HeightRequest="50"
                                FontSize="15"
                                Clicked="OnCreateAccountClicked" />

                        <Label x:Name="ErrorLabel"
                               TextColor="Red"
                               HorizontalOptions="Center"
                               IsVisible="False"
                               FontSize="14" />

                    </StackLayout>

                </StackLayout>

            </Grid>
        </ScrollView>

        <Grid x:Name="LoadingOverlay"
              IsVisible="False"
              BackgroundColor="#80000000"
              ZIndex="1000">
            <StackLayout VerticalOptions="Center"
                         HorizontalOptions="Center">
                <ActivityIndicator x:Name="LoadingIndicator"
                                   IsRunning="True"
                                   Color="{StaticResource PrimaryBlue}"
                                   WidthRequest="50"
                                   HeightRequest="50" />
                <Label Text="Logging in..."
                       TextColor="{StaticResource LightGray}"
                       FontSize="16"
                       HorizontalOptions="Center"
                       Margin="0,10,0,0" />
            </StackLayout>
        </Grid>
    </Grid>

</ContentPage>
